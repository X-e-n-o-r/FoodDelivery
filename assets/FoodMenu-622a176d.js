import{d as f,M as v,R as g,a as _,_ as D,r as M,o as i,c as u,b as t,t as r,w as j,v as w,F as B,e as C,f as E,p as b,g as I}from"./index-83a64b27.js";const S=f({data(){return{reference:this.$route.params.id.toString(),menu:[],jsonData:null,index:0,sortOption:"default"}},components:{MenuCard:v,RestaurantCard:g},methods:{fetchData(){const e=this.reference.slice(-1);this.index=parseInt(e);const n=`../src/components/db/${this.reference.slice(0,-1)}.json`;_.get(n).then(o=>{this.menu=o.data}).catch(o=>{console.error("Error fetching menu data:",o)}),_.get("../src/components/db/db.json").then(o=>{this.jsonData=o.data.db.partners[this.index]}).catch(o=>{console.error("Error fetching restaurant data:",o)})},sortMenu(){this.sortedMenu}},beforeMount(){this.fetchData()},computed:{sortedMenu(){const e=[...this.menu];return this.sortOption==="lowToHigh"?e.sort((s,n)=>s.price-n.price):this.sortOption==="highToLow"&&e.sort((s,n)=>n.price-s.price),e}}});const c=e=>(b("data-v-80e71865"),e=e(),I(),e),$={class:"menu"},y={class:"section-heading"},O={class:"section-title restaurant-title"},k={class:"card-info"},F={class:"rating"},L={class:"price"},T={class:"category"},V={class:"select"},H=c(()=>t("option",{value:"default"},"Стандартно",-1)),N=c(()=>t("option",{value:"lowToHigh"},"Сначала дешевые",-1)),R=c(()=>t("option",{value:"highToLow"},"Сначала дорогие",-1)),U=[H,N,R],q={class:"cards"};function z(e,s,n,o,A,G){var d,l,h,p;const m=M("MenuCard");return i(),u("section",$,[t("div",y,[t("h2",O,r((d=e.jsonData)==null?void 0:d.name),1),t("div",k,[t("div",F,r((l=e.jsonData)==null?void 0:l.stars),1),t("div",L,"От "+r((h=e.jsonData)==null?void 0:h.price)+" ₽",1),t("div",T,r((p=e.jsonData)==null?void 0:p.kitchen),1)]),t("div",V,[j(t("select",{id:"sort","onUpdate:modelValue":s[0]||(s[0]=a=>e.sortOption=a),onChange:s[1]||(s[1]=(...a)=>e.sortMenu&&e.sortMenu(...a))},U,544),[[w,e.sortOption]])])]),t("div",q,[(i(!0),u(B,null,C(e.sortedMenu,a=>(i(),u("div",{class:"card",key:a.id},[E(m,{card:a},null,8,["card"])]))),128))])])}const K=D(S,[["render",z],["__scopeId","data-v-80e71865"]]);export{K as default};
